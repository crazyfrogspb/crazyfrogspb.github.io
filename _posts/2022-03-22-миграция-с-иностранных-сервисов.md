---
date: 2022-03-22 06:43:37 +0000
excerpt: Пост рассказывает о миграции с иностранных сервисов в условиях текущих ограничений,
  описывая подход к выбору альтернатив для различных сервисов. Автор делится опытом
  перехода на российские и self-hosted решения, такие как Yandex.Cloud, ClearML и
  Mattermost, подчеркивая возможность оптимизации расходов и тестирования инфраструктуры.
layout: post
source_type: telegraph
source_url: https://telegra.ph/Migraciya-s-inostrannyh-servisov-04-11
tags:
- mlops
- жека
- management
telegram_url: https://t.me/varim_ml/40
telegraph_url: https://telegra.ph/Migraciya-s-inostrannyh-servisov-04-11
title: Миграция с иностранных сервисов
views: 1222
---

# Миграция с иностранных сервисов  


Жека Никитин  


Пост не совсем про DS, но тема актуальная. Мы, как и многие стартапы сейчас, оказались в ситуации, когда очень тяжело стало оплачивать иностранные сервисы, а некоторые компании и вовсе отключили платные версии для российских клиентов (например, Slack). Что делать? Как, возможно, некоторые уже заметили, я люблю подход системный и обстоятельный, поэтому сначала я [выписал все сервисы](https://docs.google.com/spreadsheets/d/1DlXpndVZK7SLJy4q6u7zxKezZ4WdKwY0RFQ6TzrhIh8/edit?usp=sharing), которые использует ML-отдел, и описал, для чего нам нужна их платная версия (здесь таблица не очень подробная для примера). Затем по каждому варианту мы оценили плюсы и минусы и разделили сервисы на несколько групп:

  1. Важные и без нормальной альтернативы. Для этих сервисов решили делать окольную оплату через карту друга за рубежом, параллельно искать более адекватные способы оплаты и делать экспорты от греха подальше.
  2. Дешёвые - оплатили заранее по годовой подписке или через окольную оплату.
  3. С устраивающей бесплатной версией - тут понятно.
  4. С адекватными self-hosted или российскими альтернативами - самый трудный, но дешёвый вариант.



Под 4 пункт попали AWS и Slack. Переезд ClearML-сервера и данных на Yandex.Cloud вообще проблем не вызвал. Для ClearML нужно было перекинуть все данные на новый инстанс, прогнать один скрипт для ElasticSearch и прописать в конфигах агентов новый адрес. Для S3 - тоже всего пара манипуляций, ClearML для сохранения чекпойнтов к нему тоже привязывается без проблем. Вот с Mattermost я пропотел конкретно =) Безусловно, им огромный респект за то, что вообще есть возможность перетащить данные из Слака, но процесс, мягко говоря, не беспроблемный. Зато сейчас у нас есть полный self-hosted аналог Слака со всеми нашими данными.

В целом, конечно, жаль, что приходится заниматься вот такими вещами вместо научно-девелоперской деятельности, но я во всём стараюсь искать плюсы. Это стало хорошей возможностью оценить и оптимизировать наши расходы на софт, а также протестировать инфраструктуру на устойчивость к пертурбациям. Пишите в комментариях, с какими проблемами и приколами столкнулись вы, и какие в итоге приняли решения.
