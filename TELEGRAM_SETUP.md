# Настройка Telegram для синхронизации

## Шаг 1: Получение API ключей

1. Перейдите на https://my.telegram.org
2. Войдите с помощью номера телефона
3. Перейдите в "API development tools"
4. Создайте новое приложение:
   - App title: `Varim ML Blog`
   - Short name: `varim_ml_blog`
   - Platform: `Desktop`
5. Скопируйте `api_id` и `api_hash`

## Шаг 2: Создание .env файла

Создайте файл `.env` в корне проекта:

```bash
TELEGRAM_API_ID=your_api_id_here
TELEGRAM_API_HASH=your_api_hash_here
```

Замените `your_api_id_here` и `your_api_hash_here` на ваши реальные значения.

## Шаг 3: Первоначальная авторизация

Запустите скрипт настройки сессии:

```bash
workon varim_ml
python scripts/setup_telegram_session.py
```

Скрипт попросит:
1. **Номер телефона** - введите в формате +7XXXXXXXXXX
2. **Код подтверждения** - введите код из SMS/Telegram
3. **Пароль двухфакторной аутентификации** (если включен)

После успешной авторизации будет создан файл `session.session`.

## Шаг 4: Запуск синхронизации

Теперь можно запускать синхронизацию без интерактивного ввода:

```bash
workon varim_ml
python scripts/sync_telegraph.py
```

## Возможные проблемы

### "Файл сессии не найден"
- Запустите `python scripts/setup_telegram_session.py`

### "Пользователь не авторизован"
- Удалите файлы `session.session*`
- Запустите настройку заново

### "Не удалось получить доступ к каналу @varim_ml"
- Убедитесь, что вы подписаны на канал
- Проверьте, что канал публичный

### "API_ID или API_HASH неверны"
- Проверьте правильность ключей в .env файле
- Убедитесь, что нет лишних пробелов

## Безопасность

⚠️ **Важно:**
- Не добавляйте `.env` файл в git
- Не делитесь API ключами
- Файл `session.session` содержит авторизационные данные

Добавьте в `.gitignore`:
```
.env
session.session*
```

## Автоматизация

После настройки сессии синхронизация будет работать автоматически через GitHub Actions без дополнительного ввода данных.
